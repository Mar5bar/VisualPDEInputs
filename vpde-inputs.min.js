class t extends HTMLElement{constructor(){super(),this.childElementCount&&this.children[0].remove(),this.attachedFrames=this.getAttribute("iframe").split(" ").map((t=>document.getElementById(t))),this.message={name:this.getAttribute("name"),type:"updateParam"},this.host=this.getAttribute("host")||"https://visualpde.com";const t=document.createElement("span");t.style.setProperty("white-space","nowrap");if(t.appendChild(document.createElement("span")).innerHTML=this.getAttribute("label")||"",this.getAttribute("min-label")){const e=t.appendChild(document.createElement("span"));e.innerHTML=" "+this.getAttribute("min-label"),e.classList.add("vpde-slider-valLabel")}const e=t.appendChild(document.createElement("input"));if(e.type="range",e.setAttribute("min",this.getAttribute("min")||0),e.setAttribute("max",this.getAttribute("max")||1),e.setAttribute("value",this.getAttribute("value")||.5),e.step=this.getAttribute("step")||(e.max-e.min)/20,e.addEventListener("input",this.onInput.bind(this)),this.getAttribute("max-label")){const e=t.appendChild(document.createElement("span"));e.innerHTML=this.getAttribute("max-label"),e.classList.add("vpde-slider-valLabel")}e.classList.add("vpde-slider"),e.classList.add("slider-progress"),e.style.setProperty("--value",e.value),e.style.setProperty("--min",e.min),e.style.setProperty("--max",e.max),this.slider=e,this.attachedFrames.forEach((t=>{t.addEventListener("load",this.sendUpdate.bind(this))})),this.append(t),null!=MathJax.typesetPromise&&MathJax.typesetPromise()}onInput(){this.slider.style.setProperty("--value",this.slider.value),this.sendUpdate()}sendUpdate(){this.message.value=this.slider.value,this.attachedFrames.forEach((t=>{t.contentWindow.postMessage(this.message,this.host)}))}}customElements.define("vpde-slider",t);
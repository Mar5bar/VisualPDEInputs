class t extends HTMLElement{constructor(){super(),this.attachedFrames=this.getAttribute("iframe").split(" ").map((t=>document.getElementById(t))),this.message={name:this.getAttribute("name")},this.host=this.getAttribute("host")||"https://visualpde.com";const t=document.createElement("span");t.appendChild(document.createElement("span")).innerHTML=this.getAttribute("label")||"";const e=t.appendChild(document.createElement("span"));e.style.setProperty("position","relative");const s=e.appendChild(document.createElement("input"));if(s.type="range",s.setAttribute("min",this.getAttribute("min")||0),s.setAttribute("max",this.getAttribute("max")||1),s.setAttribute("value",this.getAttribute("value")||.5),s.step=this.getAttribute("step")||(s.max-s.min)/20,s.addEventListener("input",this.onInput.bind(this)),this.getAttribute("min-label")){const t=e.appendChild(document.createElement("span"));t.innerHTML=this.getAttribute("min-label"),t.classList.add("vpde-slider-valLabel"),t.classList.add("min"),s.classList.add("has-labels")}if(this.getAttribute("max-label")){const t=e.appendChild(document.createElement("span"));t.innerHTML=this.getAttribute("max-label"),t.classList.add("vpde-slider-valLabel"),t.classList.add("max"),s.classList.add("has-labels")}s.classList.add("vpde-slider"),s.classList.add("slider-progress"),s.style.setProperty("--value",s.value),s.style.setProperty("--min",s.min),s.style.setProperty("--max",s.max),this.slider=s,this.attachedFrames.forEach((t=>{t.addEventListener("load",this.sendUpdate.bind(this))})),this.append(t),null!=MathJax.typesetPromise&&MathJax.typesetPromise()}onInput(){this.slider.style.setProperty("--value",this.slider.value),this.sendUpdate()}sendUpdate(){this.message.value=this.slider.value,this.attachedFrames.forEach((t=>{t.contentWindow.postMessage(this.message,this.host)}))}}customElements.define("vpde-slider",t);